<%- include("../partials/head", {title: "Liste"}) %>
<%- include("../partials/header") %>

<main class="main">
    <section class="categories-section container categories-grid">
        <a href="/categories">
            <div class="category-card fade-in">
                <img class="recipe-image" src="/assets/poulet-roti.jpg" alt="Photo d'un plat">
                <h3>Toutes les recettes</h3>
                <p>Retrouver toutes nos recettes qui sauront ravir vos papilles.</p>
            </div>
        </a>
        <a href="/categories/entrees">
            <div class="category-card fade-in">
                <img class="recipe-image" src="/assets/bruschetta.jpg" alt="Photo d'une entrÃ©e">
                <h3><%= categories[0].name %></h3>
                <p><%= categories[0].description %></p>
            </div>
        </a>
        <a href="/categories/plats">
            <div class="category-card fade-in">
                <img class="recipe-image" src="/assets/pates-carbonara.jpg" alt="Photo d'un plat">
                <h3><%= categories[1].name %></h3>
                <p><%= categories[1].description %></p>
            </div>
        </a>
        <a href="/categories/desserts">
            <div class="category-card fade-in">
                <img class="recipe-image" src="/assets/tiramisu.jpg" alt="Photo d'un dessert">
                <h3><%= categories[2].name %></h3>
                <p><%= categories[2].description %></p>
            </div>
        </a>
    </section>
    <section class="popular-section container">
        <% if (category) { %>
            <h2 class="section-title">Recettes : <%= category.name %></h2>
        <% } else { %>
            <h2 class="section-title">Toutes les recettes</h2>
        <% } %>
        <ul class="recipes-grid">
            <% recipes.forEach((recipe) => { %>
                <%- include("../partials/recipeCard", {recipe: recipe}) %>
            <% }) %>
        </ul>
    </section>

    <!-- <script src="./js/script.js" type="module"><script>
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            const themeIcon = themeToggle.querySelector('.theme-icon');

            
            const savedTheme = localStorage.getItem('theme') || 'light';
            body.classList.add(savedTheme + '-mode');
            updateThemeIcon(savedTheme);

            themeToggle.addEventListener('click', () => {
                const currentTheme = body.classList.contains('light-mode') ? 'light' : 'night';
                const newTheme = currentTheme === 'light' ? 'night' : 'light';

                body.classList.remove(currentTheme + '-mode');
                body.classList.add(newTheme + '-mode');
                localStorage.setItem('theme', newTheme);
                updateThemeIcon(newTheme);
            });

            function updateThemeIcon(theme) {
                themeIcon.textContent = theme === 'light' ? 'ðŸŒ™' : 'â˜€';
            }
        });

    </script> !-->

</main>

<%- include("../partials/footer") %>